# Install Multipass on machine with lots of memory...
# Create SSH key
# Then run the following to end up with a Cluster...

# Create Hosts...with SSH key setup...
multipass launch -n k3s-master --cpus 2 --memory 8192M --disk 40G  --network br0 --cloud-init cloud-config.yml  && \
multipass launch -n k3s-node1 --cpus 2 --memory 3072M --disk 40G --network br0 --cloud-init cloud-config.yml && \ 
multipass launch -n k3s-node2 --cpus 2 --memory 3072M --disk 40G --network br0 --cloud-init cloud-config.yml && \
multipass launch -n k3s-node3 --cpus 2 --memory 3072M --disk 40G --network br0 --cloud-init cloud-config.yml

# Remove if something goes wrong..
multipass delete k3s-master && multipass delete k3s-node1 && multipass delete k3s-node2 && multipass delete k3s-node3 && \
mutltipass purge


curl -sfL https://get.k3s.io | sh -s - server \
--token=YOUR-SECRET \
--tls-san your-dns-name --tls-san your-lb-ip-address \
--cluster-init


curl -sfL https://get.k3s.io | sh -s - server \
--token=myclusterisbad \
--tls-san your-dns-name --tls-san your-lb-ip-address \
--cluster-init


curl -sfL https://get.k3s.io | K3S_TOKEN=clusterone sh -s - server --cluster-init

curl -sfL https://get.k3s.io | K3S_TOKEN=clusterone sh -s - server --server https://192.168.122.250:6443


curl -sfL https://get.k3s.io | K3S_TOKEN=zckvm sh -s - server --cluster-init
curl -sfL https://get.k3s.io | K3S_TOKEN=zckvm sh -s - server --server https://192.168.75.70:6443

# 2025
curl -sfL https://get.k3s.io | sh -

curl -sfL https://get.k3s.io | K3S_URL=https://192.168.80.180:6443 K3S_TOKEN=K1051e906efc278b0d6912f69221e968a0092ffcb6e863f85671cb3a0eb54cd630f::server:e7fd23638b7411e1fc49b44c8605f30a sh -





GITHUB_URL=https://github.com/kubernetes/dashboard/releases
VERSION_KUBE_DASHBOARD=$(curl -w '%{url_effective}' -I -L -s -S ${GITHUB_URL}/latest -o /dev/null | sed -e 's|.*/||')
sudo k3s kubectl create -f https://raw.githubusercontent.com/kubernetes/dashboard/${VERSION_KUBE_DASHBOARD}/aio/deploy/recommended.yaml

multipass suspend k3s-master k3s-node1 k3s-node2 k3s-node3

multipass start k3s-master k3s-node1 k3s-node2 k3s-node3

multipass stop k3s-master k3s-node1 k3s-node2 k3s-node3

docker pull rizzla82/httpdwebsite:v1.2

---------------

watch kubectl get pods

kubectl edit deployment nginx1-deploy

kubectl rollout history deployment/nginx1-deploy
kubectl rollout undo deployment/nginx1-deploy --to-revision=5


kubectl create deployment web --image=gcr.io/google-samples/hello-app:1.0

kubectl create deployment web --image=docker.io/rizzla82/mysite-nginx:latest


docker pull rizzla82/mysite-nginx:latest

watch kubectl get all --all-namespaces

kubectl get secrets --all-namespaces

kubectl get certificates --all-namespaces


scp user@$SERVER_IP:/etc/rancher/k3s/k3s.yaml ~/.kube/config

scp radmin@192.168.75.70:/etc/rancher/k3s/k3s.yaml ~/.kube/config




 helm uninstall cert-manager-webhook-duckdns --namespace default
 kubectl delete duckdns-credentials





